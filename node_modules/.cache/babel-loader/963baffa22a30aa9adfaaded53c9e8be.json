{"remainingRequest":"D:\\web前端\\musicweb\\node_modules\\babel-loader\\lib\\index.js!D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\web前端\\musicweb\\src\\views\\search.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\web前端\\musicweb\\src\\views\\search.vue","mtime":1651302194660},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\babel-loader\\lib\\index.js","mtime":1646330798012},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js","mtime":1646330795669}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.array.filter\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from 'vant';\nimport http from \"../router/http.js\"; //\timport music from '@/util/allmusic.js'\n\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      value: this.$store.state.searchtext,\n      musiclist: [],\n      newlist: [],\n      addbox: false,\n      list: [],\n      musicid: '',\n      activeName: 'first',\n      songsheetalllist: [],\n      songsheetall: [],\n      lengths: 0\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    http({\n      url: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\n      method: 'get'\n    }).then(function (res) {\n      _this.list = res.data.data; //console.log(this.list)\n    });\n    http({\n      url: '/allmusic',\n      method: 'get'\n    }).then(function (res) {\n      _this.musiclist = res.data.data;\n\n      _this.onSearch();\n    });\n    http({\n      url: '/songsheet/selectall',\n      method: 'get'\n    }).then(function (res) {\n      _this.songsheetalllist = res.data.data;\n\n      _this.onSearch();\n    });\n  },\n  methods: {\n    tomusicsheet: function tomusicsheet(id) {\n      this.$store.commit(\"changeActiveIndex\", \"1\");\n      this.$store.commit('changeMusicSheetId', id);\n      this.$router.push(\"/musicsheet\");\n    },\n    MusicCollect: function MusicCollect(id, singlelist) {\n      var _this2 = this;\n\n      // console.log(this.$store.state.music.id)\n      // \tconsole.log(singlelist)\t\n      var listlength = 0;\n\n      if (singlelist == null) {\n        http({\n          url: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this.$store.state.music.id,\n          method: 'get'\n        }).then(function (res) {\n          _this2.addbox = false;\n\n          if (res.data == \"添加成功\") {\n            http({\n              url: '/songmusic/select?iduser=' + _this2.$store.state.usermessage.iduser,\n              method: 'get'\n            }).then(function (res) {\n              _this2.list = res.data.data; //console.log(this.list)\n            });\n\n            _this2.$message({\n              message: '保存成功',\n              type: 'success',\n              showClose: true\n            });\n          } else {\n            _this2.$message({\n              message: '保存失败',\n              type: 'error',\n              showClose: true\n            });\n          }\n        });\n        return 0;\n      }\n\n      for (var i = 0; i < singlelist.length; i++) {\n        if (singlelist[i].id == this.musicid) {\n          this.$message({\n            message: '重复收藏歌曲',\n            type: 'success',\n            showClose: true\n          });\n          return 0;\n        }\n      }\n\n      http({\n        url: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this.musicid,\n        method: 'get'\n      }).then(function (res) {\n        _this2.addbox = false;\n\n        if (res.data == \"添加成功\") {\n          http({\n            url: '/songmusic/select?iduser=' + _this2.$store.state.usermessage.iduser,\n            method: 'get'\n          }).then(function (res) {\n            _this2.list = res.data.data; //console.log(this.list)\n          });\n\n          _this2.$message({\n            message: '保存成功',\n            type: 'success',\n            showClose: true\n          });\n        } else {\n          _this2.$message({\n            message: '保存失败',\n            type: 'error',\n            showClose: true\n          });\n        }\n      });\n    },\n    outbox: function outbox() {\n      this.addbox = false;\n    },\n    addshow: function addshow(id) {\n      this.addbox = true;\n      this.musicid = id;\n      console.log(id);\n    },\n    handleClick: function handleClick(tab, event) {// console.log(tab, event);\n    },\n    key_search: function key_search(event) {\n      if (event.keyCode == 13) {\n        this.onSearch();\n      }\n    },\n    onSearch: function onSearch() {\n      var _this3 = this;\n\n      this.$store.commit(\"changeSearchText\", this.value);\n      Toast.loading({\n        message: '加载中...',\n        forbidClick: true,\n        duration: 0\n      });\n      setTimeout(function () {\n        Toast.clear();\n      }, 300);\n      this.newlist = this.musiclist.filter(function (item) {\n        return item.name.toUpperCase().includes(_this3.value.toUpperCase());\n      });\n      this.songsheetall = this.songsheetalllist.filter(function (item) {\n        return item.songsheetname.toUpperCase().includes(_this3.value.toUpperCase());\n      });\n    },\n    handlePlay: function handlePlay(data) {\n      this.$store.commit(\"changeActiveIndex\", \"3\");\n      this.$store.commit('changeMusic', data);\n      this.$router.push('/center');\n    }\n  }\n};",{"version":3,"sources":["search.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"addsongsheet\" v-show=\"addbox\">\r\n\t\t\t<div class=\"addbox-one\">添加到歌单\r\n\t\t\t\t<div style=\"float: right;width: 50px;margin-right: 20px;cursor: pointer;\">\r\n\t\t\t\t\t<span class=\"iconfont icon-a-43-guanbi\" @click=\"outbox\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li v-for=\"(item,index) in list\" @click=\"MusicCollect(item.id,item.singlelist)\" :key=\"item.id\">\r\n\t\t\t\t\t\t<p>{{item.singlename}}&nbsp;{{item.length}}首</p>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t\t<div class=\"search\">\r\n\r\n\t\t\t<div class=\"sch\">\r\n\t\t\t\t<input class=\"sch-input\" type=\"text\" v-model=\"value\" @keydown=\"key_search($event)\">\r\n\t\t\t\t<button class=\"sch-button\" @click=\"onSearch\">\r\n\t\t\t\t\t<span class=\"iconfont icon-sousuo\" style=\"height: 40px;\"></span>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<el-tabs v-model=\"activeName\" type=\"card\" @tab-click=\"handleClick\">\r\n\t\t\t\t<el-tab-pane label=\"单曲\" name=\"first\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li class=\"list-header\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"list-header-one\"></div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"list-header-two\">歌曲标题</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"list-header-three\">时长</div>\r\n\t\t\t\t\t\t\t\t <div class=\"list-header-four\">歌手</div>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t<li class=\"listli\" v-for=\"(data,index) in newlist\" :key=\"data.id\" @click=\"handlePlay(data)\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"list-header-one\">{{index+1}}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"list-header-two2\">{{data.name}}</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"list-header-three\">\r\n\t\t\t\t\t\t\t\t\t\t{{data.time}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"list-header-five\">\r\n\t\t\t\t\t\t\t\t\t\t<span class=\"iconfont icon-jiahao1\" @click.stop=\"addshow(data.id)\"></span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"list-header-four\" :title=\"data.singer\">{{data.singer}}</div>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t\t<el-tab-pane label=\"歌单\" name=\"second\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li class=\"list-header\">\r\n\t\t\t\t\t\t\t<div class=\"list-header-one\"></div>\r\n\t\t\t\t\t\t\t<div class=\"list-header-six\">歌单标题</div>\r\n\t\t\t\t\t\t\t<div class=\"list-header-seven\">歌曲量</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li v-for=\"(item,index) in songsheetall\":key=\"item.idsongsheet\" @click=\"tomusicsheet(item.idsongsheet)\">\r\n\t\t\t\t\t\t\t<div class=\"list-header-one\">{{index+1}}</div>\r\n\t\t\t\t\t\t\t<div class=\"list-header-six2\">{{item.songsheetname}}</div>\r\n\t\t\t\t\t\t\t<div class=\"list-header-seven\">{{item.length}}</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</el-tab-pane>\r\n\t\t\t\t<!-- <el-tab-pane label=\"角色管理\" name=\"third\">角色管理</el-tab-pane>\r\n            \t\t\t    <el-tab-pane label=\"定时任务补偿\" name=\"fourth\">定时任务补偿</el-tab-pane> -->\r\n\t\t\t</el-tabs>\r\n\r\n\r\n\t\t\t\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tToast\r\n\t} from 'vant'\r\n\timport http from '../router/http.js'\r\n\t//\timport music from '@/util/allmusic.js'\r\n\timport axios from 'axios'\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: this.$store.state.searchtext,\r\n\t\t\t\tmusiclist: [],\r\n\t\t\t\tnewlist: [],\r\n\t\t\t\taddbox: false,\r\n\t\t\t\tlist: [],\r\n\t\t\t\tmusicid: '',\r\n\t\t\t\tactiveName: 'first',\r\n\t\t\t\tsongsheetalllist:[],\r\n\t\t\t\tsongsheetall:[],\r\n\t\t\t\tlengths:0\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\r\n\t\t\thttp({\r\n\t\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\r\n\t\t\t\tmethod: 'get'\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.list = res.data.data\r\n\t\t\t\t//console.log(this.list)\r\n\t\t\t})\r\n\r\n\t\t\thttp({\r\n\t\t\t\turl: '/allmusic',\r\n\t\t\t\tmethod: 'get'\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.musiclist = res.data.data\r\n\t\t\t\tthis.onSearch()\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\thttp({\r\n\t\t\t\turl: '/songsheet/selectall',\r\n\t\t\t\tmethod: 'get'\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.songsheetalllist = res.data.data\r\n\t\t\t\t\r\n\t\t\t\tthis.onSearch()\r\n\t\t\t})\r\n\t\t\t\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttomusicsheet(id){\r\n\t\t\t\tthis.$store.commit(\"changeActiveIndex\", \"1\")\r\n\t\t\t\tthis.$store.commit('changeMusicSheetId', id)\r\n\t\t\t\tthis.$router.push(\"/musicsheet\")\r\n\t\t\t},\r\n\r\n\t\t\tMusicCollect(id, singlelist) {\r\n\t\t\t\t// console.log(this.$store.state.music.id)\r\n\t\t\t\t// \tconsole.log(singlelist)\t\r\n\t\t\t\tvar listlength = 0;\r\n\t\t\t\tif (singlelist == null) {\r\n\t\t\t\t\thttp({\r\n\t\t\t\t\t\turl: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this\r\n\t\t\t\t\t\t\t.$store.state.music.id,\r\n\t\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tthis.addbox = false\r\n\t\t\t\t\t\tif (res.data == \"添加成功\") {\r\n\r\n\t\t\t\t\t\t\thttp({\r\n\t\t\t\t\t\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\r\n\t\t\t\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tthis.list = res.data.data\r\n\t\t\t\t\t\t\t\t//console.log(this.list)\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: '保存成功',\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: '保存失败',\r\n\t\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var i = 0; i < singlelist.length; i++) {\r\n\t\t\t\t\tif (singlelist[i].id == this.musicid) {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '重复收藏歌曲',\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\thttp({\r\n\t\t\t\t\turl: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this\r\n\t\t\t\t\t\t.musicid,\r\n\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.addbox = false\r\n\t\t\t\t\tif (res.data == \"添加成功\") {\r\n\r\n\t\t\t\t\t\thttp({\r\n\t\t\t\t\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\r\n\t\t\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tthis.list = res.data.data\r\n\t\t\t\t\t\t\t//console.log(this.list)\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '保存成功',\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '保存失败',\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\toutbox() {\r\n\t\t\t\tthis.addbox = false\r\n\r\n\t\t\t},\r\n\t\t\taddshow(id) {\r\n\t\t\t\tthis.addbox = true\r\n\t\t\t\tthis.musicid = id\r\n\t\t\t\tconsole.log(id)\r\n\t\t\t},\r\n\t\t\thandleClick(tab, event) {\r\n\t\t\t\t// console.log(tab, event);\r\n\t\t\t},\r\n\t\t\tkey_search(event) {\r\n\t\t\t\tif (event.keyCode == 13) {\r\n\t\t\t\t\tthis.onSearch();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonSearch() {\r\n\t\t\t\t\r\n\t\t\t\tthis.$store.commit(\"changeSearchText\",this.value)\r\n\t\t\t\tToast.loading({\r\n\t\t\t\t\tmessage: '加载中...',\r\n\t\t\t\t\tforbidClick: true,\r\n\t\t\t\t\tduration: 0\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tToast.clear()\r\n\t\t\t\t}, 300)\r\n\t\t\t\t\r\n\t\t\t\tthis.newlist = this.musiclist.filter(item => item.name.toUpperCase().includes(this.value.toUpperCase()));\r\n                this.songsheetall = this.songsheetalllist.filter(item => item.songsheetname.toUpperCase().includes(this.value.toUpperCase()));\r\n               \r\n\t\t\t},\r\n\t\t\thandlePlay(data) {\r\n\t\t\t\tthis.$store.commit(\"changeActiveIndex\", \"3\")\r\n\t\t\t\tthis.$store.commit('changeMusic', data)\r\n\t\t\t\tthis.$router.push('/center')\r\n\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.search {\r\n\t\twidth: 960px;\r\n\t\tmargin: 0 auto;\r\n\t\tborder: 1px solid gray;\r\n\t\theight: 800px;\r\n\t}\r\n\r\n\t.sch {\r\n\t\twidth: 400px;\r\n\t\theight: 44px;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-top: 50px;\r\n\t}\r\n\r\n\t.sch-input {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 350px;\r\n\t\theight: 40px;\r\n\t\tborder-radius: 5px 0px 0px 5px;\r\n\t\tfloat: left;\r\n\r\n\t}\r\n\r\n\t.sch-button {\r\n\t\theight: 44px;\r\n\t\twidth: 44px;\r\n\t\tborder-radius: 0px 5px 5px 0px;\r\n\t\tborder-left: none;\r\n\t}\r\n\r\n\t.sch .iconfont {\r\n\t\tfont-size: 30px;\r\n\t}\r\n\r\n\t.list-header {\r\n\t\twidth: 827px;\r\n\t\theight: 25px;\r\n\t\tline-height: 25px;\r\n\t\tbackground-color: #F7F7F7;\r\n\t\tbox-shadow: 0px 0px 5px grey;\r\n\t\tborder-top: 5px solid red;\r\n\t\tfont-size: 16px;\r\n\r\n\t}\r\n\r\n\t.list-header>div {\r\n\t\tfloat: left;\r\n\t\tbox-sizing: border-box;\r\n\t\ttext-align: center;\r\n\t\tborder: 1px solid gainsboro;\r\n\t}\r\n\r\n\tul {\r\n\t\twidth: 827px;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\tul li {\r\n\t\twidth: 827px;\r\n\t\theight: 27px;\r\n\t\tline-height: 25px;\r\n\r\n\t}\r\n\r\n\tul li>div {\r\n\t\tfloat: left;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\tul>li:nth-child(2n) {\r\n\t\tbackground-color: #F7f7f7;\r\n\t}\r\n\r\n\t.list-header-one {\r\n\t\twidth: 107px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.list-header-two {\r\n\t\twidth: 400px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.list-header-two2 {\r\n\t\twidth: 400px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.list-header-two2:hover {\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\r\n\t.list-header-three {\r\n\t\twidth: 160px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.list-header-five {\r\n\t\twidth: 160px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t\tdisplay: none;\r\n\t}\r\n    .list-header-six{\r\n\t\twidth: 500px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.list-header-six2{\r\n\t\twidth: 500px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.list-header-six2:hover{\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\t.list-header-seven{\r\n\t\twidth: 220px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.listli:hover .list-header-three {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.listli:hover .list-header-five {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.list-header-four {\r\n\t\twidth: 160px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\r\n\t.addsongsheet {\r\n\t\twidth: 400px;\r\n\t\tmin-height: 200px;\r\n\t\tbackground-color: #fff;\r\n\t\tposition: absolute;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\tz-index: 10;\r\n\t\tborder-radius: 5px;\r\n\t\tborder: gainsboro 1px solid;\r\n\t\tbox-shadow: 0px 5px 5px gray;\r\n\t\topacity: 1;\r\n\t}\r\n\r\n\t.addbox-one {\r\n\t\twidth: 100%;\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #2d2d2d;\r\n\t\ttext-indent: 2rem;\r\n\t\tborder-radius: 5px 5px 0 0;\r\n\t}\r\n\r\n\t.addsongsheet ul li {\r\n\t\twidth: 400px;\r\n\t\theight: 40px;\r\n\t\tborder-bottom: 1px darkgray solid;\r\n\t\tline-height: 40px;\r\n\t\ttext-indent: 2rem;\r\n\t}\r\n\r\n\t.addsongsheet ul li:hover {\r\n\t\tbackground-color: darkgray;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/views"}]}