{"remainingRequest":"D:\\web前端\\musicweb\\node_modules\\babel-loader\\lib\\index.js!D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\web前端\\musicweb\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\web前端\\musicweb\\src\\views\\login.vue","mtime":1651498552383},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\babel-loader\\lib\\index.js","mtime":1646330798012},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js","mtime":1646330795669}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport loginbackground from \"../components/Loginbackground.vue\"; //import axios from 'axios'\n\nimport http from \"../router/http.js\";\nimport qs from 'qs';\nexport default {\n  data: function data() {\n    return {\n      data: {\n        username: '',\n        password: '',\n        code: '',\n        token: ''\n      },\n      test: [],\n      textdata: []\n    };\n  },\n  components: {\n    loginbackground: loginbackground\n  },\n  mounted: function mounted() {\n    this.captcha();\n  },\n  methods: {\n    login: function login() {\n      var _this = this;\n\n      http({\n        url: '/user/select?username=' + this.data.username + '&password=' + this.data.password,\n        method: 'get'\n      }).then(function (res) {\n        _this.textdata = res.data.data; //console.log(this.textdata)\n\n        if (_this.data.code != _this.test.code) {\n          _this.$message({\n            message: '验证码错误',\n            type: 'error',\n            showClose: true\n          });\n\n          _this.captcha();\n\n          return 0;\n        } else if (_this.textdata == null) {\n          _this.$message({\n            message: '账号或密码错误',\n            type: 'error',\n            showClose: true\n          });\n\n          return 0;\n        } else if (_this.textdata.password == _this.data.password) {\n          _this.$store.commit(\"changeUserMessage\", _this.textdata);\n\n          _this.$store.commit(\"changeActiveIndex\", \"1\");\n\n          _this.$store.commit(\"changeIsLogin\");\n\n          _this.$store.commit(\"changeIsTabbarshow\");\n\n          _this.$message({\n            message: '登录成功',\n            type: 'success',\n            showClose: true\n          });\n\n          _this.$router.push(\"/home\");\n        } else {\n          _this.$message({\n            message: '账号或密码错误',\n            type: 'error',\n            showClose: true\n          });\n        }\n      });\n    },\n    loginout: function loginout() {\n      this.$store.commit(\"changeActiveIndex\", \"1\");\n      this.$store.commit(\"changeIsTabbarshow\");\n      this.$router.push(\"/home\");\n    },\n    signup: function signup() {\n      this.$router.push(\"/signup\");\n    },\n    captcha: function captcha() {\n      var _this2 = this;\n\n      // axios.get('http://localhost:8081/captcha').then(res=>{\n      // \tthis.test=res.data.data\n      // })\n      http({\n        url: '/captcha',\n        method: 'get'\n      }).then(function (res) {\n        _this2.test = res.data.data;\n        _this2.data.token = _this2.test.token;\n      }); //console.log(this.test.base64Img)\n    },\n    getcaptcha: function getcaptcha() {\n      var _this3 = this;\n\n      http({\n        url: '/captcha',\n        method: 'get'\n      }).then(function (res) {\n        _this3.test = res.data.data;\n        _this3.data.token = _this3.test.token;\n        _this3.data.code = '';\n      });\n    }\n  }\n};",{"version":3,"sources":["login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t    <loginbackground>\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<h2>登录</h2>\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<div class=\"inputBox\">\r\n\t\t\t\t\t\t<input v-model=\"data.username\"type=\"text\" placeholder=\"账号\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"inputBox\">\r\n\t\t\t\t\t\t<input v-model=\"data.password\"type=\"password\" placeholder=\"密码\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"inputBox\">\r\n\t\t\t\t\t\t <input v-model=\"data.code\" type=\"text\" placeholder=\"验证码\" />\r\n\t\t\t\t\t\t <img :src=\"test.base64Img\" @click=\"getcaptcha\" style=\"float: right;border-radius: 20px;\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"inputBox\">\r\n\t\t\t\t\t\t<input type=\"button\" @click=\"login\" value=\"登录\"/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<input type=\"button\" @click=\"loginout\" value=\"返回\" style=\"float: right;\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- <p class=\"forget\">忘记密码？\r\n\t\t\t\t\t    <a href=\"#\">点击这里</a>\r\n\t\t\t\t\t</p> -->\r\n\t\t\t\t\t<p class=\"forget\">没有账号？\r\n\t\t\t\t\t    <a href=\"javascript:;\" @click=\"signup\">点击注册</a>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</form>\r\n\t\t\t</div> \r\n\t\t</loginbackground>\r\n\t\t\t\t\t\t\r\n\t</div>\n</template>\n\n<script>\r\n\timport loginbackground from '../components/Loginbackground.vue'\r\n\t\r\n\t//import axios from 'axios'\r\n\timport http from '../router/http.js'\r\n\timport qs from 'qs'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tdata:{\r\n\t\t\t\t\tusername:'',\r\n\t\t\t\t    password:'',\r\n\t\t\t\t    code:'',\r\n\t\t\t\t\ttoken:''\r\n\t\t\t\t},\r\n\t\t\t\ttest:[],\r\n\t\t\t\ttextdata:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tloginbackground\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t    this.captcha()\t\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tlogin(){\r\n\t\t\t\thttp({\r\n\t\t\t\t\turl:'/user/select?username='+this.data.username+'&password='+this.data.password,\r\n\t\t\t\t\tmethod:'get' \r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.textdata=res.data.data\r\n\t\t\t\t\t\r\n\t\t\t\t\t//console.log(this.textdata)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(this.data.code!=this.test.code){\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t          message: '验证码错误',\r\n\t\t\t\t\t\t          type: 'error',\r\n\t\t\t\t\t\t\t\t  showClose:true,\r\n\t\t\t\t\t\t        });\r\n\t\t\t\t\t\tthis.captcha()\t\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}else if(this.textdata==null){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t          message: '账号或密码错误',\r\n\t\t\t\t\t\t\t          type: 'error',\r\n\t\t\t\t\t\t\t\t\t  showClose:true,\r\n\t\t\t\t\t\t\t        });\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\telse if(this.textdata.password==this.data.password){\r\n\t\t\t\t\t\tthis.$store.commit(\"changeUserMessage\",this.textdata)\r\n\t\t\t\t\t\tthis.$store.commit(\"changeActiveIndex\",\"1\")\r\n\t\t\t\t\t\tthis.$store.commit(\"changeIsLogin\")\r\n\t\t\t\t\t\tthis.$store.commit(\"changeIsTabbarshow\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t          message: '登录成功',\r\n\t\t\t\t\t\t          type: 'success',\r\n\t\t\t\t\t\t\t\t  showClose:true,\r\n\t\t\t\t\t\t        });\r\n\t\t\t\t\t\tthis.$router.push(\"/home\")\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t          message: '账号或密码错误',\r\n\t\t\t\t\t\t          type: 'error',\r\n\t\t\t\t\t\t\t\t  showClose:true,\r\n\t\t\t\t\t\t        });\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tloginout(){\r\n\t\t\t\tthis.$store.commit(\"changeActiveIndex\",\"1\")\r\n\t\t\t\tthis.$store.commit(\"changeIsTabbarshow\")\r\n\t\t\t\tthis.$router.push(\"/home\")\r\n\t\t\t},\r\n\t\t\tsignup(){\r\n\t\t\t\tthis.$router.push(\"/signup\")\r\n\t\t\t},\r\n\t\t\tcaptcha(){\r\n\t\t\t\t// axios.get('http://localhost:8081/captcha').then(res=>{\r\n\t\t\t\t// \tthis.test=res.data.data\r\n\t\t\t\t// })\r\n\t\t\t\t\r\n\t\t\t\thttp({\r\n\t\t\t\t\turl:'/captcha',\r\n\t\t\t\t\tmethod:'get'\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.test=res.data.data\r\n\t\t\t\t\tthis.data.token=this.test.token\r\n\t\t\t\t})\r\n\t\t\t\t//console.log(this.test.base64Img)\r\n\t\t\t},\r\n\t\t\tgetcaptcha(){\r\n\t\t\t\thttp({\r\n\t\t\t\t\turl:'/captcha',\r\n\t\t\t\t\tmethod:'get'\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.test=res.data.data\r\n\t\t\t\t\tthis.data.token=this.test.token\r\n\t\t\t\t\tthis.data.code=''\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\t.form .inputBox input[placeholder=\"验证码\"]{\r\n\t\twidth: 150px;\r\n\t}\n</style>\n"],"sourceRoot":"src/views"}]}