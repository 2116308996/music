{"remainingRequest":"D:\\web前端\\musicweb\\node_modules\\babel-loader\\lib\\index.js!D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\web前端\\musicweb\\src\\views\\center.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\web前端\\musicweb\\src\\views\\center.vue","mtime":1653204986783},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\babel-loader\\lib\\index.js","mtime":1646330798012},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js","mtime":1646330795669}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\nimport \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport http from \"../router/http.js\";\nexport default {\n  data: function data() {\n    return {\n      currentMUsicLyric: [],\n      allkey: [],\n      changeheight: false,\n      addbox: false,\n      list: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.lyric();\n    http({\n      url: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\n      method: 'get'\n    }).then(function (res) {\n      _this.list = res.data.data; //console.log(this.list)\n    });\n  },\n  methods: {\n    lyric: function lyric() {\n      this.$store.state.isTabbarshow = true;\n      var lyricArr = this.$store.state.music.lyric.split('[').slice(1);\n      var lrcObj = {};\n      lyricArr.forEach(function (item) {\n        var arr = item.split(']');\n        var m = parseInt(arr[0].split(':')[0]);\n        var s = parseInt(arr[0].split(':')[1]);\n        arr[0] = m * 60 + s;\n\n        if (arr[1] != '\\n') {\n          if (arr[1].length == 1) {} else {\n            var brr = arr[1].split('↵');\n            lrcObj[arr[0]] = brr[0];\n          }\n        }\n      });\n      this.currentMUsicLyric = lrcObj; //console.log(this.musiclyric)\n\n      for (var key in this.currentMUsicLyric) {\n        this.allkey.push(key);\n      } //console.log(this.allkey)\t\n\n    },\n    MusicCollect: function MusicCollect(id, singlelist) {\n      var _this2 = this;\n\n      // console.log(this.$store.state.music.id)\n      // \tconsole.log(singlelist)\t\n      var listlength = 0;\n\n      if (singlelist == null) {\n        http({\n          url: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this.$store.state.music.id,\n          method: 'get'\n        }).then(function (res) {\n          _this2.addbox = false;\n\n          if (res.data == \"添加成功\") {\n            http({\n              url: '/songmusic/select?iduser=' + _this2.$store.state.usermessage.iduser,\n              method: 'get'\n            }).then(function (res) {\n              _this2.list = res.data.data;\n              console.log(_this2.list);\n            });\n\n            _this2.$message({\n              message: '保存成功',\n              type: 'success',\n              showClose: true\n            });\n          } else {\n            _this2.$message({\n              message: '保存失败',\n              type: 'error',\n              showClose: true\n            });\n          }\n        });\n        return 0;\n      }\n\n      for (var i = 0; i < singlelist.length; i++) {\n        if (singlelist[i].id == this.$store.state.music.id) {\n          this.$message({\n            message: '重复收藏歌曲',\n            type: 'success',\n            showClose: true\n          });\n          return 0;\n        }\n      }\n\n      http({\n        url: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this.$store.state.music.id,\n        method: 'get'\n      }).then(function (res) {\n        _this2.addbox = false;\n\n        if (res.data == \"添加成功\") {\n          http({\n            url: '/songmusic/select?iduser=' + _this2.$store.state.usermessage.iduser,\n            method: 'get'\n          }).then(function (res) {\n            _this2.list = res.data.data; //console.log(this.list)\n          });\n\n          _this2.$message({\n            message: '保存成功',\n            type: 'success',\n            showClose: true\n          });\n        } else {\n          _this2.$message({\n            message: '保存失败',\n            type: 'error',\n            showClose: true\n          });\n        }\n      });\n    },\n    addshow: function addshow() {\n      this.addbox = true;\n    },\n    outbox: function outbox() {\n      this.addbox = false;\n    },\n    scrolllrc: function scrolllrc(index) {\n      if (this.$store.state.music.name == this.$store.state.musicplayname) {\n        if (this.$store.state.currentTime > this.allkey[index] && this.$store.state.currentTime < this.allkey[index + 1]) {\n          if (index >= 4) {\n            this.$refs.lrc.scrollTop = 21 * (index - 4);\n          }\n        }\n      }\n    },\n    musiclistplay: function musiclistplay() {\n      // let list=this.$store.state.musiclist\n      this.$store.commit('musicplay');\n      this.$store.commit(\"changeMusicplay\", this.$store.state.music); // console.log(this.$store.state.musiclist.length)\n      // for(var i=0;i<list.length;i++){\n      // \tif(list[i].id==this.$store.state.music.id){\n      // \t\tconsole.log(list[i].id,this.$store.state.music.id)\n      // \t\tconsole.log(\"此歌曲重复\")\n      // \t\treturn 0;\n      // \t}\n      // }\n      // let sss=this.$store.state.music\n      // console.log(sss)\n      // list.push(sss)\n      //             this.$store.commit(\"changemusiclist\",list)\n      // console.log(list)\n    },\n    changeclass: function changeclass(index) {\n      if (this.$store.state.music.name == this.$store.state.musicplayname) {\n        if (this.$store.state.currentTime > this.allkey[index] && this.$store.state.currentTime < this.allkey[index + 1]) {\n          return {\n            'active': true\n          };\n        }\n      }\n    },\n    ChangeHeight: function ChangeHeight() {\n      this.changeheight = !this.changeheight; //console.log(this.changeheight)\n\n      if (this.changeheight) {\n        this.$refs.lrc.className = 'changeheight';\n        this.$refs.expansion.innerHTML = '收起';\n      } else {\n        this.$refs.lrc.className = 'lyc';\n        this.$refs.expansion.innerHTML = '展开';\n      }\n    }\n  }\n};",{"version":3,"sources":["center.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div style=\"background-color: #F5F5F5;\">\r\n\r\n\t\t<div class=\"center\">\r\n\t\t\t<div class=\"addsongsheet\" v-show=\"addbox\">\r\n\t\t\t\t<div class=\"addbox-one\">添加到歌单\r\n\t\t\t\t\t<div style=\"float: right;width: 50px;margin-right: 20px;cursor: pointer;\">\r\n\t\t\t\t\t\t<span class=\"iconfont icon-a-43-guanbi\" @click=\"outbox\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li v-for=\"(item,index) in list\" @click=\"MusicCollect(item.id,item.singlelist)\" :key=\"item.id\">\r\n\t\t\t\t\t\t\t<p>{{item.singlename}}&nbsp;{{item.length}}首</p>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t\t<div class=\"music-img\"></div>\r\n\t\t\t<div class=\"music\">\r\n\t\t\t\t<div class=\"music-name\">\r\n\t\t\t\t\t{{this.$store.state.music.name}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"color: #999999;\">\r\n\t\t\t\t\t歌手：<span style=\"color: #0C73C2;\">{{this.$store.state.music.singer}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"music-bth\">\r\n\t\t\t\t\t<div @click=\"musiclistplay\" class=\"music-bth-one\">\r\n\t\t\t\t\t\t<span class=\"iconfont icon-bofang2\"></span> 播放\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"music-bth-two\">\r\n\t\t\t\t\t\t<a :href=\"`/music/${this.$store.state.music.singer} - ${this.$store.state.music.name}${this.$store.state.music.type}`\"\r\n\t\t\t\t\t\t\tdownload>\r\n\t\t\t\t\t\t\t<span class=\"iconfont icon-a-40-xiazai\"></span> 下载\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div @click=\"addshow()\" class=\"music-bth-two\" style=\"color: blue;\">\r\n\t\t\t\t\t\t<span class=\"iconfont icon-jiahao1\"></span>&nbsp;收藏\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"lyc\" ref='lrc'>\r\n\t\t\t\t\t<div class=\"lyric\">\r\n\t\t\t\t\t\t<p class=\"act\" :class=\"changeclass(index)\" v-for=\"(item,key,index) in currentMUsicLyric\"\r\n\t\t\t\t\t\t\t:key=\"key\">\r\n\t\t\t\t\t\t\t<span>{{item}}{{scrolllrc(index)}}</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p @click=\"ChangeHeight()\" ref='expansion' class=\"expansion\">展开</p>\r\n\t\t\t\t<div style=\"height: 300px;width: 100%;\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport http from \"../router/http.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentMUsicLyric: [],\r\n\t\t\t\tallkey: [],\r\n\t\t\t\tchangeheight: false,\r\n\t\t\t\taddbox: false,\r\n\t\t\t\tlist: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.lyric()\r\n\r\n\t\t\thttp({\r\n\t\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\r\n\t\t\t\tmethod: 'get'\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.list = res.data.data\r\n\t\t\t\t//console.log(this.list)\r\n\t\t\t})\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tlyric(){\r\n\t\t\t  this.$store.state.isTabbarshow = true;\r\n\t\t\t  let lyricArr = this.$store.state.music.lyric.split('[').slice(1)\r\n\t\t\t  let lrcObj = {};\r\n\t\t\t  lyricArr.forEach(item => {\r\n\t\t\t  \tlet arr = item.split(']')\r\n\t\t\t  \tlet m = parseInt(arr[0].split(':')[0])\r\n\t\t\t  \tlet s = parseInt(arr[0].split(':')[1])\r\n\t\t\t  \tarr[0] = m * 60 + s;\r\n\t\t\t  \tif (arr[1] != '\\n') {\r\n\t\t\t  \t\tif (arr[1].length == 1) {} else {\r\n\t\t\t  \t\t\tvar brr = arr[1].split('↵')\r\n\t\t\t  \t\t\tlrcObj[arr[0]] = brr[0]\r\n\t\t\t  \t\t}\r\n\t\t\t  \t}\r\n\t\t\t  })\r\n\t\t\t  this.currentMUsicLyric = lrcObj\r\n\t\t\t  //console.log(this.musiclyric)\r\n\t\t\t  \r\n\t\t\t  for (var key in this.currentMUsicLyric) {\r\n\t\t\t  \tthis.allkey.push(key)\r\n\t\t\t  }\r\n\t\t\t  //console.log(this.allkey)\t\r\n\t\t\t},\r\n\t\t\tMusicCollect(id, singlelist) {\r\n\t\t\t\t// console.log(this.$store.state.music.id)\r\n\t\t\t\t// \tconsole.log(singlelist)\t\r\n\t\t\t\tvar listlength = 0;\r\n\t\t\t\tif (singlelist == null) {\r\n\t\t\t\t\thttp({\r\n\t\t\t\t\t\turl: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this.$store.state.music.id,\r\n\t\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tthis.addbox = false\r\n\t\t\t\t\t\tif (res.data == \"添加成功\") {\r\n\r\n\t\t\t\t\t\t\thttp({\r\n\t\t\t\t\t\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\r\n\t\t\t\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tthis.list = res.data.data\r\n\t\t\t\t\t\t\t\tconsole.log(this.list)\r\n\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: '保存成功',\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: '保存失败',\r\n\t\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (var i = 0; i < singlelist.length; i++) {\r\n\t\t\t\t\tif (singlelist[i].id == this.$store.state.music.id) {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '重复收藏歌曲',\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\thttp({\r\n\t\t\t\t\turl: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this.$store.state.music.id,\r\n\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.addbox = false\r\n\t\t\t\t\tif (res.data == \"添加成功\") {\r\n\r\n\t\t\t\t\t\thttp({\r\n\t\t\t\t\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\r\n\t\t\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tthis.list = res.data.data\r\n\t\t\t\t\t\t\t//console.log(this.list)\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '保存成功',\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '保存失败',\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\taddshow() {\r\n\t\t\t\tthis.addbox = true\r\n\t\t\t},\r\n\t\t\toutbox() {\r\n\t\t\t\tthis.addbox = false\r\n\r\n\t\t\t},\r\n\t\t\tscrolllrc(index) {\r\n\t\t\t\tif (this.$store.state.music.name == this.$store.state.musicplayname) {\r\n\t\t\t\t\tif (this.$store.state.currentTime > this.allkey[index] && this.$store.state.currentTime < this.allkey[\r\n\t\t\t\t\t\t\tindex + 1]) {\r\n\t\t\t\t\t\tif (index >= 4) {\r\n\t\t\t\t\t\t\tthis.$refs.lrc.scrollTop = (21 * (index - 4))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmusiclistplay() {\r\n                // let list=this.$store.state.musiclist\r\n\t\t\t\tthis.$store.commit('musicplay')\r\n\t\t\t\tthis.$store.commit(\"changeMusicplay\", this.$store.state.music)\r\n\t\t\t\t// console.log(this.$store.state.musiclist.length)\r\n\t\t\t\t// for(var i=0;i<list.length;i++){\r\n\t\t\t\t// \tif(list[i].id==this.$store.state.music.id){\r\n\t\t\t\t// \t\tconsole.log(list[i].id,this.$store.state.music.id)\r\n\t\t\t\t// \t\tconsole.log(\"此歌曲重复\")\r\n\t\t\t\t// \t\treturn 0;\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t\t\r\n\t\t\t\t// let sss=this.$store.state.music\r\n\t\t\t\t// console.log(sss)\r\n\t\t\t\t// list.push(sss)\r\n\t\t\t\t\r\n    //             this.$store.commit(\"changemusiclist\",list)\r\n\t\t\t\t// console.log(list)\r\n\t\t\t\t \r\n\t\t\t},\r\n\t\t\tchangeclass(index) {\r\n\t\t\t\tif (this.$store.state.music.name == this.$store.state.musicplayname) {\r\n\t\t\t\t\tif (this.$store.state.currentTime > this.allkey[index] && this.$store.state.currentTime < this.allkey[\r\n\t\t\t\t\t\t\tindex + 1]) {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t'active': true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tChangeHeight() {\r\n\t\t\t\tthis.changeheight = !this.changeheight\r\n\t\t\t\t//console.log(this.changeheight)\r\n\t\t\t\tif (this.changeheight) {\r\n\t\t\t\t\tthis.$refs.lrc.className = 'changeheight'\r\n\t\t\t\t\tthis.$refs.expansion.innerHTML = '收起'\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$refs.lrc.className = 'lyc'\r\n\t\t\t\t\tthis.$refs.expansion.innerHTML = '展开'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.center {\r\n\t\twidth: 960px;\r\n\t\tmargin: 0 auto;\r\n\t\tborder: 1px solid gray;\r\n\t}\r\n\r\n\t.music-img {\r\n\t\twidth: 200px;\r\n\t\theight: 200px;\r\n\t\tbackground-color: yellow;\r\n\t\tfloat: left;\r\n\t\tmargin-top: 50px;\r\n\t\tmargin-left: 50px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: url(../../public/image/1.jpg) center;\r\n\t\tbackground-size: cover;\r\n\t}\r\n\r\n\t.music {\r\n\t\tmargin-left: 300px;\r\n\t\tmargin-top: 50px;\r\n\t}\r\n\r\n\t.music-name {\r\n\t\tfont-size: 24px;\r\n\t}\r\n\r\n\t.music-bth {\r\n\t\theight: 40px;\r\n\t}\r\n\r\n\t.music-bth-one {\r\n\t\tcolor: white;\r\n\t\tbackground-color: #3967FF;\r\n\r\n\t\tbox-shadow: 1px 1px 1px gray;\r\n\r\n\t}\r\n\r\n\t.music-bth-one:hover {\r\n\t\topacity: 0.7;\r\n\t}\r\n\r\n\t.music-bth-two:hover {\r\n\t\topacity: 0.7;\r\n\t}\r\n\r\n\t.music-bth>div {\r\n\t\tfloat: left;\r\n\t\tmargin: 0 5px;\r\n\t\tborder: 1px solid gray;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.lyc {\r\n\t\twidth: 300px;\r\n\t\theight: 250px;\r\n\t\toverflow: auto;\r\n\t}\r\n\r\n\t.changeheight {\r\n\t\tmin-height: 250px;\r\n\t\twidth: 300px;\r\n\t}\r\n\r\n\t.lyric>p {\r\n\t\tmin-height: 21px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.act {\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t.active {\r\n\t\tfont-size: 16px;\r\n\t\tcolor: mediumvioletred;\r\n\t}\r\n\r\n\t.expansion {\r\n\t\tcolor: blue;\r\n\t}\r\n\r\n\t.expansion:hover {\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\r\n\t.lyc::-webkit-scrollbar {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.addsongsheet {\r\n\t\twidth: 400px;\r\n\t\tmin-height: 200px;\r\n\t\tbackground-color: #fff;\r\n\t\tposition: absolute;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\tz-index: 10;\r\n\t\tborder-radius: 5px;\r\n\t\tborder: gainsboro 1px solid;\r\n\t\tbox-shadow: 0px 5px 5px gray;\r\n\t\topacity: 1;\r\n\t}\r\n\r\n\t.addbox-one {\r\n\t\twidth: 100%;\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #2d2d2d;\r\n\t\ttext-indent: 2rem;\r\n\t\tborder-radius: 5px 5px 0 0;\r\n\t}\r\n\r\n\t.addsongsheet ul li {\r\n\t\twidth: 400px;\r\n\t\theight: 40px;\r\n\t\tborder-bottom: 1px darkgray solid;\r\n\t\tline-height: 40px;\r\n\t\ttext-indent: 2rem;\r\n\t}\r\n\r\n\t.addsongsheet ul li:hover {\r\n\t\tbackground-color: darkgray;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/views"}]}