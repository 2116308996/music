{"remainingRequest":"D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\web前端\\musicweb\\src\\views\\center.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\web前端\\musicweb\\src\\views\\center.vue","mtime":1648450978536},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\babel-loader\\lib\\index.js","mtime":1646330798012},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js","mtime":1646330795669}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcurrentMUsicLyric: [],\n\t\t\t\tallkey:[],\n\t\t\t\tchangeheight:false\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\t\n\t\t\tlet lyricArr = this.$store.state.music.lyric.split('[').slice(1)\n\t\t\tlet lrcObj = {};\n\t\t\tlyricArr.forEach(item => {\n\t\t\t\tlet arr = item.split(']')\n\t\t\t\tlet m = parseInt(arr[0].split(':')[0])\n\t\t\t\tlet s = parseInt(arr[0].split(':')[1])\n\t\t\t\tarr[0] = m * 60 + s;\n\t\t\t\tif (arr[1] != '\\n') {\n\t\t\t\t\tif(arr[1].length==1){\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar brr=arr[1].split('↵')\n\t\t\t\t\t\tlrcObj[arr[0]] =brr[0]\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t}\n\t\t\t})\n\t\t\tthis.currentMUsicLyric = lrcObj\n\t\t\t//console.log(this.musiclyric)\n\t\t\t\n\t\t\tfor(var key in  this.currentMUsicLyric){\n\t\t\t\tthis.allkey.push(key)\n\t\t\t}\n\t\t\t//console.log(this.allkey)\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t},\n\t\tmethods:{\n\t\t\tscrolllrc(index){\n\t\t\t\tif(this.$store.state.music.name==this.$store.state.musicplayname){\n\t\t\t\t\tif(this.$store.state.currentTime>this.allkey[index]&&this.$store.state.currentTime<this.allkey[index+1]){\n\t\t\t\t\t\tif(index>=4){\t\t\n\t\t\t\t\t\t\tthis.$refs.lrc.scrollTop=(21*(index-4))   \n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n            musicplay(){\n\t\t\t\t\n\t\t\t\t\tthis.$store.commit('musicplay')\n\t\t\t\t\n\t\t\t},\n\t\t\tchangeclass(index){\n\t\t\t\tif(this.$store.state.music.name==this.$store.state.musicplayname){\n\t\t\t\t    if(this.$store.state.currentTime>this.allkey[index]&&this.$store.state.currentTime<this.allkey[index+1]){\n\t\t\t\t\t    return {'active':true}\n\t\t\t\t    }\n\t\t\t\t}\n\t\t\t},\n\t\t\tChangeHeight(){\n\t\t\t\tthis.changeheight=!this.changeheight\n\t\t\t\tconsole.log(this.changeheight)\n\t\t\t\tif(this.changeheight){\n\t\t\t\t\tthis.$refs.lrc.className='changeheight'\n\t\t\t\t\tthis.$refs.expansion.innerHTML='收起'\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tthis.$refs.lrc.className='lyc'\n\t\t\t\t\tthis.$refs.expansion.innerHTML='展开'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t}\n",{"version":3,"sources":["center.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"center.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div style=\"background-color: #F5F5F5;\">\r\n\t\t<div class=\"center\">\r\n            <div class=\"music-img\"></div>\r\n\t\t\t<div class=\"music\">\r\n\t\t\t\t<div class=\"music-name\">\r\n\t\t\t\t\t{{this.$store.state.music.name}}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"color: #999999;\">\r\n\t\t\t\t\t歌手：<span style=\"color: #0C73C2;\">{{this.$store.state.music.singer}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"music-bth\">\r\n\t\t\t\t\t<div @click=\"musicplay\" class=\"music-bth-one\">\r\n\t\t\t\t\t\t<span class=\"iconfont icon-bofang2\"></span> 播放\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"music-bth-two\">\r\n\t\t\t\t\t\t<a :href=\"`/music/${this.$store.state.music.singer} - ${this.$store.state.music.name}${this.$store.state.music.type}`\" download>\r\n\t\t\t\t\t\t\t<span class=\"iconfont icon-a-40-xiazai\"></span> 下载\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"lyc\" ref='lrc'>\r\n                    <div class=\"lyric\" >\r\n\t\t\t\t\t\t<p class=\"act\" :class=\"changeclass(index)\" v-for=\"(item,key,index) in currentMUsicLyric\":key=\"key\">\r\n\t\t\t\t\t\t    <span>{{item}}{{scrolllrc(index)}}</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p  @click=\"ChangeHeight()\" ref='expansion' class=\"expansion\">展开</p>\r\n\t\t\t\t<div style=\"height: 300px;width: 100%;\"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentMUsicLyric: [],\r\n\t\t\t\tallkey:[],\r\n\t\t\t\tchangeheight:false\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t\r\n\t\t\tlet lyricArr = this.$store.state.music.lyric.split('[').slice(1)\r\n\t\t\tlet lrcObj = {};\r\n\t\t\tlyricArr.forEach(item => {\r\n\t\t\t\tlet arr = item.split(']')\r\n\t\t\t\tlet m = parseInt(arr[0].split(':')[0])\r\n\t\t\t\tlet s = parseInt(arr[0].split(':')[1])\r\n\t\t\t\tarr[0] = m * 60 + s;\r\n\t\t\t\tif (arr[1] != '\\n') {\r\n\t\t\t\t\tif(arr[1].length==1){\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar brr=arr[1].split('↵')\r\n\t\t\t\t\t\tlrcObj[arr[0]] =brr[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\tthis.currentMUsicLyric = lrcObj\r\n\t\t\t//console.log(this.musiclyric)\r\n\t\t\t\r\n\t\t\tfor(var key in  this.currentMUsicLyric){\r\n\t\t\t\tthis.allkey.push(key)\r\n\t\t\t}\r\n\t\t\t//console.log(this.allkey)\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tscrolllrc(index){\r\n\t\t\t\tif(this.$store.state.music.name==this.$store.state.musicplayname){\r\n\t\t\t\t\tif(this.$store.state.currentTime>this.allkey[index]&&this.$store.state.currentTime<this.allkey[index+1]){\r\n\t\t\t\t\t\tif(index>=4){\t\t\r\n\t\t\t\t\t\t\tthis.$refs.lrc.scrollTop=(21*(index-4))   \r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n            musicplay(){\r\n\t\t\t\t\r\n\t\t\t\t\tthis.$store.commit('musicplay')\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tchangeclass(index){\r\n\t\t\t\tif(this.$store.state.music.name==this.$store.state.musicplayname){\r\n\t\t\t\t    if(this.$store.state.currentTime>this.allkey[index]&&this.$store.state.currentTime<this.allkey[index+1]){\r\n\t\t\t\t\t    return {'active':true}\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tChangeHeight(){\r\n\t\t\t\tthis.changeheight=!this.changeheight\r\n\t\t\t\tconsole.log(this.changeheight)\r\n\t\t\t\tif(this.changeheight){\r\n\t\t\t\t\tthis.$refs.lrc.className='changeheight'\r\n\t\t\t\t\tthis.$refs.expansion.innerHTML='收起'\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.$refs.lrc.className='lyc'\r\n\t\t\t\t\tthis.$refs.expansion.innerHTML='展开'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.center {\r\n\t\twidth: 960px;\r\n\t\tmargin: 0 auto;\r\n\t\tborder: 1px solid gray;\r\n\t}\r\n    .music-img{\r\n\t\twidth: 200px;\r\n\t\theight: 200px;\r\n\t\tbackground-color: yellow;\r\n\t\tfloat: left;\r\n\t\tmargin-top: 50px;\r\n\t\tmargin-left: 50px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: url(http://p1.music.126.net/_-PWshFwqO5nFkOMpM2K4w==/109951166515653261.jpg) center;\r\n\t\tbackground-size: cover;\r\n\t}\r\n\t.music {\r\n\t\tmargin-left: 300px;\r\n\t\tmargin-top: 50px;\r\n\t}\r\n\r\n\t.music-name {\r\n\t\tfont-size: 24px;\r\n\t}\r\n\r\n\t.music-bth {\r\n\t\theight: 40px;\r\n\t}\r\n\r\n    .music-bth-one {\r\n\t\tcolor: white;\r\n\t\tbackground-color: #3967FF;\r\n\t\t\r\n\t\tbox-shadow: 1px 1px 1px gray;\r\n\t\t\r\n\t}\r\n\r\n    .music-bth-one:hover {\r\n    \topacity: 0.7;\r\n    }\r\n\r\n\t.music-bth>div {\r\n\t\tfloat: left;\r\n\t\tmargin: 0 5px;\r\n\t\tborder: 1px solid gray;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\t\r\n\t.lyc{\r\n\t\twidth: 300px;\r\n\t\theight:250px;\r\n\t\toverflow: auto;\r\n\t}\r\n\t.changeheight{\r\n\t\tmin-height:250px;\r\n\t\twidth: 300px;\r\n\t}\r\n\r\n\t.lyric>p{\t\r\n\t\tmin-height: 21px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.act{\r\n\t\tfont-size: 12px;\r\n\t}\r\n\t.active{\r\n\t\tfont-size: 16px;\r\n\t\tcolor: mediumvioletred;\r\n\t}\r\n\t.expansion{\r\n\t\tcolor: blue;\r\n\t}\r\n\t.expansion:hover{\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\t.lyc::-webkit-scrollbar{\r\n\t\t\t\tdisplay: none;\r\n\t}\r\n</style>\n"]}]}