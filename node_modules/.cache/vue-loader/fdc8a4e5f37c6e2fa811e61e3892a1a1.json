{"remainingRequest":"D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\web前端\\musicweb\\src\\views\\musicsheet.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\web前端\\musicweb\\src\\views\\musicsheet.vue","mtime":1652860264757},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\babel-loader\\lib\\index.js","mtime":1646330798012},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js","mtime":1646330795669}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport http from '../router/http.js'\nexport default{\n\tdata(){\n\t\treturn{\n\t\t\tnewlist:[],\n\t\t\taddbox: false,\n\t\t\tlist: [],\n\t\t\tmusicid: '',\n\t\t}\n\t},\n\tmounted() {\n\t\t\n\t\thttp({\n\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\n\t\t\tmethod: 'get'\n\t\t}).then(res => {\n\t\t\tthis.list = res.data.data\n\t\t\t//console.log(this.list)\n\t\t})\n\t\t\n\t\t//console.log(this.$store.state.musicsheetid)\n\t\thttp({\n\t\t\turl: '/songmusic/select/idsongsheet?idsongsheet=' + this.$store.state.musicsheetid,\n\t\t\tmethod: 'get'\n\t\t}).then(res => {\n\t\t\tthis.newlist = res.data.data\n\t\t\t//console.log(this.list)\n\t\t})\n\t},\n\tmethods:{\n\t\tMusicCollect(id, singlelist) {\n\t\t\t// console.log(this.$store.state.music.id)\n\t\t\t// \tconsole.log(singlelist)\t\n\t\t\tvar listlength = 0;\n\t\t\tif (singlelist == null) {\n\t\t\t\thttp({\n\t\t\t\t\turl: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this\n\t\t\t\t\t\t.$store.state.music.id,\n\t\t\t\t\tmethod: 'get'\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthis.addbox = false\n\t\t\t\t\tif (res.data == \"添加成功\") {\n\t\t\n\t\t\t\t\t\thttp({\n\t\t\t\t\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\n\t\t\t\t\t\t\tmethod: 'get'\n\t\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\t\tthis.list = res.data.data\n\t\t\t\t\t\t\t//console.log(this.list)\n\t\t\t\t\t\t})\n\t\t\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: '保存成功',\n\t\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\t\tshowClose: true,\n\t\t\t\t\t\t});\n\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t\tmessage: '保存失败',\n\t\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\t\tshowClose: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\n\t\t\tfor (var i = 0; i < singlelist.length; i++) {\n\t\t\t\tif (singlelist[i].id == this.musicid) {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '重复收藏歌曲',\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tshowClose: true,\n\t\t\t\t\t});\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\thttp({\n\t\t\t\turl: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this\n\t\t\t\t\t.musicid,\n\t\t\t\tmethod: 'get'\n\t\t\t}).then(res => {\n\t\t\t\tthis.addbox = false\n\t\t\t\tif (res.data == \"添加成功\") {\n\t\t\n\t\t\t\t\thttp({\n\t\t\t\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\n\t\t\t\t\t\tmethod: 'get'\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tthis.list = res.data.data\n\t\t\t\t\t\t//console.log(this.list)\n\t\t\t\t\t})\n\t\t\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '保存成功',\n\t\t\t\t\t\ttype: 'success',\n\t\t\t\t\t\tshowClose: true,\n\t\t\t\t\t});\n\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t\tmessage: '保存失败',\n\t\t\t\t\t\ttype: 'error',\n\t\t\t\t\t\tshowClose: true,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\toutbox() {\n\t\t\tthis.addbox = false\n\t\t\n\t\t},\n\t\taddshow(id) {\n\t\t\tthis.addbox = true\n\t\t\tthis.musicid = id\n\t\t\tconsole.log(id)\n\t\t},\n\t\thandlePlay(data) {\n\t\t\tthis.$store.commit(\"changeActiveIndex\", \"3\")\n\t\t\tthis.$store.commit('changeMusic', data)\n\t\t\tthis.$router.push('/center')\n\t\t\n\t\t},\n\t}\n}\n",{"version":3,"sources":["musicsheet.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"musicsheet.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div class=\"addsongsheet\" v-show=\"addbox\">\r\n\t\t\t<div class=\"addbox-one\">添加到歌单\r\n\t\t\t\t<div style=\"float: right;width: 50px;margin-right: 20px;cursor: pointer;\">\r\n\t\t\t\t\t<span class=\"iconfont icon-a-43-guanbi\" @click=\"outbox\"></span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li v-for=\"(item,index) in list\" @click=\"MusicCollect(item.id,item.singlelist)\" :key=\"item.id\">\r\n\t\t\t\t\t\t<p>{{item.singlename}}&nbsp;{{item.length}}首</p>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\r\n\t\t</div>\r\n\t\t<div class=\"musicsheet\">\r\n\t\t\t<div>\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li class=\"list-header\">\r\n\t\t\t\t\t\t<div class=\"list-header-one\"></div>\r\n\t\t\t\t\t\t<div class=\"list-header-two\">歌曲标题</div>\r\n\t\t\t\t\t\t<div class=\"list-header-three\">时长</div>\r\n\t\t\t\t\t <div class=\"list-header-four\">歌手</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"listli\" v-for=\"(data,index) in newlist\" :key=\"data.id\" @click=\"handlePlay(data)\">\r\n\t\t\t\t\t\t<div class=\"list-header-one\">{{index+1}}</div>\r\n\t\t\t\t\t\t<div class=\"list-header-two2\">{{data.name}}</div>\r\n\t\t\t\t\t\t<div class=\"list-header-three\">\r\n\t\t\t\t\t\t\t{{data.time}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"list-header-five\">\r\n\t\t\t\t\t\t\t<span class=\"iconfont icon-jiahao1\" @click.stop=\"addshow(data.id)\"></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"list-header-four\" :title=\"data.singer\">{{data.singer}}</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\n</template>\n\n<script>\r\n\timport http from '../router/http.js'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tnewlist:[],\r\n\t\t\t\taddbox: false,\r\n\t\t\t\tlist: [],\r\n\t\t\t\tmusicid: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t\r\n\t\t\thttp({\r\n\t\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\r\n\t\t\t\tmethod: 'get'\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.list = res.data.data\r\n\t\t\t\t//console.log(this.list)\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t//console.log(this.$store.state.musicsheetid)\r\n\t\t\thttp({\r\n\t\t\t\turl: '/songmusic/select/idsongsheet?idsongsheet=' + this.$store.state.musicsheetid,\r\n\t\t\t\tmethod: 'get'\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.newlist = res.data.data\r\n\t\t\t\t//console.log(this.list)\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tMusicCollect(id, singlelist) {\r\n\t\t\t\t// console.log(this.$store.state.music.id)\r\n\t\t\t\t// \tconsole.log(singlelist)\t\r\n\t\t\t\tvar listlength = 0;\r\n\t\t\t\tif (singlelist == null) {\r\n\t\t\t\t\thttp({\r\n\t\t\t\t\t\turl: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this\r\n\t\t\t\t\t\t\t.$store.state.music.id,\r\n\t\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tthis.addbox = false\r\n\t\t\t\t\t\tif (res.data == \"添加成功\") {\r\n\t\t\t\r\n\t\t\t\t\t\t\thttp({\r\n\t\t\t\t\t\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\r\n\t\t\t\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tthis.list = res.data.data\r\n\t\t\t\t\t\t\t\t//console.log(this.list)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: '保存成功',\r\n\t\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t\tmessage: '保存失败',\r\n\t\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tfor (var i = 0; i < singlelist.length; i++) {\r\n\t\t\t\t\tif (singlelist[i].id == this.musicid) {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '重复收藏歌曲',\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\thttp({\r\n\t\t\t\t\turl: '/songmusic/insert?idsongsheet=' + id + '&idallmusic=' + this\r\n\t\t\t\t\t\t.musicid,\r\n\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.addbox = false\r\n\t\t\t\t\tif (res.data == \"添加成功\") {\r\n\t\t\t\r\n\t\t\t\t\t\thttp({\r\n\t\t\t\t\t\t\turl: '/songmusic/select?iduser=' + this.$store.state.usermessage.iduser,\r\n\t\t\t\t\t\t\tmethod: 'get'\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tthis.list = res.data.data\r\n\t\t\t\t\t\t\t//console.log(this.list)\r\n\t\t\t\t\t\t})\r\n\t\t\t\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '保存成功',\r\n\t\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\tmessage: '保存失败',\r\n\t\t\t\t\t\t\ttype: 'error',\r\n\t\t\t\t\t\t\tshowClose: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\toutbox() {\r\n\t\t\t\tthis.addbox = false\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\taddshow(id) {\r\n\t\t\t\tthis.addbox = true\r\n\t\t\t\tthis.musicid = id\r\n\t\t\t\tconsole.log(id)\r\n\t\t\t},\r\n\t\t\thandlePlay(data) {\r\n\t\t\t\tthis.$store.commit(\"changeActiveIndex\", \"3\")\r\n\t\t\t\tthis.$store.commit('changeMusic', data)\r\n\t\t\t\tthis.$router.push('/center')\r\n\t\t\t\r\n\t\t\t},\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\t.list-header {\r\n\t\twidth: 827px;\r\n\t\theight: 25px;\r\n\t\tline-height: 25px;\r\n\t\tbackground-color: #F7F7F7;\r\n\t\tbox-shadow: 0px 0px 5px grey;\r\n\t\tborder-top: 5px solid red;\r\n\t\tfont-size: 16px;\r\n\t    margin-top: 50px;\r\n\t}\r\n\t\r\n\t.list-header>div {\r\n\t\tfloat: left;\r\n\t\tbox-sizing: border-box;\r\n\t\ttext-align: center;\r\n\t\tborder: 1px solid gainsboro;\r\n\t}\r\n\tul {\r\n\t\twidth: 827px;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\t\r\n\tul li {\r\n\t\twidth: 827px;\r\n\t\theight: 27px;\r\n\t\tline-height: 25px;\r\n\t\r\n\t}\r\n\t\r\n\tul li>div {\r\n\t\tfloat: left;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\tul>li:nth-child(2n) {\r\n\t\tbackground-color: #F7f7f7;\r\n\t}\r\n\t\r\n\t.list-header-one {\r\n\t\twidth: 107px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t.list-header-two {\r\n\t\twidth: 400px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t.list-header-two2 {\r\n\t\twidth: 400px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t.list-header-two2:hover {\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\t\r\n\t.list-header-three {\r\n\t\twidth: 160px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t.list-header-five {\r\n\t\twidth: 160px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t\tdisplay: none;\r\n\t}\r\n\t.list-header-six{\r\n\t\twidth: 500px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.list-header-six2{\r\n\t\twidth: 500px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.list-header-six2:hover{\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\t.list-header-seven{\r\n\t\twidth: 220px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.listli:hover .list-header-three {\r\n\t\tdisplay: none;\r\n\t}\r\n\t\r\n\t.listli:hover .list-header-five {\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.list-header-four {\r\n\t\twidth: 160px;\r\n\t\theight: 27px;\r\n\t\tcursor: pointer;\r\n\t\toverflow: hidden;\r\n\t\twhite-space: nowrap;\r\n\t\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\t.addsongsheet {\r\n\t\twidth: 400px;\r\n\t\tmin-height: 200px;\r\n\t\tbackground-color: #fff;\r\n\t\tposition: absolute;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\tz-index: 10;\r\n\t\tborder-radius: 5px;\r\n\t\tborder: gainsboro 1px solid;\r\n\t\tbox-shadow: 0px 5px 5px gray;\r\n\t\topacity: 1;\r\n\t}\r\n\t\r\n\t.addbox-one {\r\n\t\twidth: 100%;\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #2d2d2d;\r\n\t\ttext-indent: 2rem;\r\n\t\tborder-radius: 5px 5px 0 0;\r\n\t}\r\n\t\r\n\t.addsongsheet ul li {\r\n\t\twidth: 400px;\r\n\t\theight: 40px;\r\n\t\tborder-bottom: 1px darkgray solid;\r\n\t\tline-height: 40px;\r\n\t\ttext-indent: 2rem;\r\n\t}\r\n\t\r\n\t.addsongsheet ul li:hover {\r\n\t\tbackground-color: darkgray;\r\n\t}\n</style>\n"]}]}