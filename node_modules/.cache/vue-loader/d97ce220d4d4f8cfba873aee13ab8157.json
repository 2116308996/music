{"remainingRequest":"D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\web前端\\musicweb\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\web前端\\musicweb\\src\\views\\login.vue","mtime":1651498552383},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\babel-loader\\lib\\index.js","mtime":1646330798012},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js","mtime":1646330795669}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport loginbackground from '../components/Loginbackground.vue'\n\n//import axios from 'axios'\nimport http from '../router/http.js'\nimport qs from 'qs'\nexport default{\n\tdata(){\n\t\treturn{\n\t\t\tdata:{\n\t\t\t\tusername:'',\n\t\t\t    password:'',\n\t\t\t    code:'',\n\t\t\t\ttoken:''\n\t\t\t},\n\t\t\ttest:[],\n\t\t\ttextdata:[]\n\t\t}\n\t},\n\tcomponents: {\n\t\tloginbackground\n\t},\n\tmounted(){\n\t    this.captcha()\t\n\t},\n\tmethods:{\n\t\tlogin(){\n\t\t\thttp({\n\t\t\t\turl:'/user/select?username='+this.data.username+'&password='+this.data.password,\n\t\t\t\tmethod:'get' \n\t\t\t}).then(res=>{\n\t\t\t\tthis.textdata=res.data.data\n\t\t\t\t\n\t\t\t\t//console.log(this.textdata)\n\t\t\t\t\n\t\t\t\tif(this.data.code!=this.test.code){\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t          message: '验证码错误',\n\t\t\t\t\t          type: 'error',\n\t\t\t\t\t\t\t  showClose:true,\n\t\t\t\t\t        });\n\t\t\t\t\tthis.captcha()\t\n\t\t\t\t\treturn 0;\n\t\t\t\t}else if(this.textdata==null){\n\t\t\t\t\t\n\t\t\t\t\t\tthis.$message({\n\t\t\t\t\t\t          message: '账号或密码错误',\n\t\t\t\t\t\t          type: 'error',\n\t\t\t\t\t\t\t\t  showClose:true,\n\t\t\t\t\t\t        });\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\n\t\t\t\t}\telse if(this.textdata.password==this.data.password){\n\t\t\t\t\tthis.$store.commit(\"changeUserMessage\",this.textdata)\n\t\t\t\t\tthis.$store.commit(\"changeActiveIndex\",\"1\")\n\t\t\t\t\tthis.$store.commit(\"changeIsLogin\")\n\t\t\t\t\tthis.$store.commit(\"changeIsTabbarshow\")\n\t\t\t\t\t\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t          message: '登录成功',\n\t\t\t\t\t          type: 'success',\n\t\t\t\t\t\t\t  showClose:true,\n\t\t\t\t\t        });\n\t\t\t\t\tthis.$router.push(\"/home\")\n\t\t\t\t}else{\n\t\t\t\t\tthis.$message({\n\t\t\t\t\t          message: '账号或密码错误',\n\t\t\t\t\t          type: 'error',\n\t\t\t\t\t\t\t  showClose:true,\n\t\t\t\t\t        });\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t},\n\t\tloginout(){\n\t\t\tthis.$store.commit(\"changeActiveIndex\",\"1\")\n\t\t\tthis.$store.commit(\"changeIsTabbarshow\")\n\t\t\tthis.$router.push(\"/home\")\n\t\t},\n\t\tsignup(){\n\t\t\tthis.$router.push(\"/signup\")\n\t\t},\n\t\tcaptcha(){\n\t\t\t// axios.get('http://localhost:8081/captcha').then(res=>{\n\t\t\t// \tthis.test=res.data.data\n\t\t\t// })\n\t\t\t\n\t\t\thttp({\n\t\t\t\turl:'/captcha',\n\t\t\t\tmethod:'get'\n\t\t\t}).then(res=>{\n\t\t\t\tthis.test=res.data.data\n\t\t\t\tthis.data.token=this.test.token\n\t\t\t})\n\t\t\t//console.log(this.test.base64Img)\n\t\t},\n\t\tgetcaptcha(){\n\t\t\thttp({\n\t\t\t\turl:'/captcha',\n\t\t\t\tmethod:'get'\n\t\t\t}).then(res=>{\n\t\t\t\tthis.test=res.data.data\n\t\t\t\tthis.data.token=this.test.token\n\t\t\t\tthis.data.code=''\n\t\t\t})\n\t\t}\n\t}\n}\n",{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div>\r\n\t    <loginbackground>\r\n\t\t\t<div class=\"form\">\r\n\t\t\t\t<h2>登录</h2>\r\n\t\t\t\t<form>\r\n\t\t\t\t\t<div class=\"inputBox\">\r\n\t\t\t\t\t\t<input v-model=\"data.username\"type=\"text\" placeholder=\"账号\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"inputBox\">\r\n\t\t\t\t\t\t<input v-model=\"data.password\"type=\"password\" placeholder=\"密码\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"inputBox\">\r\n\t\t\t\t\t\t <input v-model=\"data.code\" type=\"text\" placeholder=\"验证码\" />\r\n\t\t\t\t\t\t <img :src=\"test.base64Img\" @click=\"getcaptcha\" style=\"float: right;border-radius: 20px;\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"inputBox\">\r\n\t\t\t\t\t\t<input type=\"button\" @click=\"login\" value=\"登录\"/>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<input type=\"button\" @click=\"loginout\" value=\"返回\" style=\"float: right;\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<!-- <p class=\"forget\">忘记密码？\r\n\t\t\t\t\t    <a href=\"#\">点击这里</a>\r\n\t\t\t\t\t</p> -->\r\n\t\t\t\t\t<p class=\"forget\">没有账号？\r\n\t\t\t\t\t    <a href=\"javascript:;\" @click=\"signup\">点击注册</a>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</form>\r\n\t\t\t</div> \r\n\t\t</loginbackground>\r\n\t\t\t\t\t\t\r\n\t</div>\n</template>\n\n<script>\r\n\timport loginbackground from '../components/Loginbackground.vue'\r\n\t\r\n\t//import axios from 'axios'\r\n\timport http from '../router/http.js'\r\n\timport qs from 'qs'\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tdata:{\r\n\t\t\t\t\tusername:'',\r\n\t\t\t\t    password:'',\r\n\t\t\t\t    code:'',\r\n\t\t\t\t\ttoken:''\r\n\t\t\t\t},\r\n\t\t\t\ttest:[],\r\n\t\t\t\ttextdata:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tloginbackground\r\n\t\t},\r\n\t\tmounted(){\r\n\t\t    this.captcha()\t\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tlogin(){\r\n\t\t\t\thttp({\r\n\t\t\t\t\turl:'/user/select?username='+this.data.username+'&password='+this.data.password,\r\n\t\t\t\t\tmethod:'get' \r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.textdata=res.data.data\r\n\t\t\t\t\t\r\n\t\t\t\t\t//console.log(this.textdata)\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(this.data.code!=this.test.code){\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t          message: '验证码错误',\r\n\t\t\t\t\t\t          type: 'error',\r\n\t\t\t\t\t\t\t\t  showClose:true,\r\n\t\t\t\t\t\t        });\r\n\t\t\t\t\t\tthis.captcha()\t\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}else if(this.textdata==null){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t\t          message: '账号或密码错误',\r\n\t\t\t\t\t\t\t          type: 'error',\r\n\t\t\t\t\t\t\t\t\t  showClose:true,\r\n\t\t\t\t\t\t\t        });\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\telse if(this.textdata.password==this.data.password){\r\n\t\t\t\t\t\tthis.$store.commit(\"changeUserMessage\",this.textdata)\r\n\t\t\t\t\t\tthis.$store.commit(\"changeActiveIndex\",\"1\")\r\n\t\t\t\t\t\tthis.$store.commit(\"changeIsLogin\")\r\n\t\t\t\t\t\tthis.$store.commit(\"changeIsTabbarshow\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t          message: '登录成功',\r\n\t\t\t\t\t\t          type: 'success',\r\n\t\t\t\t\t\t\t\t  showClose:true,\r\n\t\t\t\t\t\t        });\r\n\t\t\t\t\t\tthis.$router.push(\"/home\")\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$message({\r\n\t\t\t\t\t\t          message: '账号或密码错误',\r\n\t\t\t\t\t\t          type: 'error',\r\n\t\t\t\t\t\t\t\t  showClose:true,\r\n\t\t\t\t\t\t        });\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tloginout(){\r\n\t\t\t\tthis.$store.commit(\"changeActiveIndex\",\"1\")\r\n\t\t\t\tthis.$store.commit(\"changeIsTabbarshow\")\r\n\t\t\t\tthis.$router.push(\"/home\")\r\n\t\t\t},\r\n\t\t\tsignup(){\r\n\t\t\t\tthis.$router.push(\"/signup\")\r\n\t\t\t},\r\n\t\t\tcaptcha(){\r\n\t\t\t\t// axios.get('http://localhost:8081/captcha').then(res=>{\r\n\t\t\t\t// \tthis.test=res.data.data\r\n\t\t\t\t// })\r\n\t\t\t\t\r\n\t\t\t\thttp({\r\n\t\t\t\t\turl:'/captcha',\r\n\t\t\t\t\tmethod:'get'\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.test=res.data.data\r\n\t\t\t\t\tthis.data.token=this.test.token\r\n\t\t\t\t})\r\n\t\t\t\t//console.log(this.test.base64Img)\r\n\t\t\t},\r\n\t\t\tgetcaptcha(){\r\n\t\t\t\thttp({\r\n\t\t\t\t\turl:'/captcha',\r\n\t\t\t\t\tmethod:'get'\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\tthis.test=res.data.data\r\n\t\t\t\t\tthis.data.token=this.test.token\r\n\t\t\t\t\tthis.data.code=''\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\n</script>\n\n<style scoped>\r\n\t.form .inputBox input[placeholder=\"验证码\"]{\r\n\t\twidth: 150px;\r\n\t}\n</style>\n"]}]}