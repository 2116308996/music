{"remainingRequest":"D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\web前端\\musicweb\\src\\components\\Musicplay.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\web前端\\musicweb\\src\\components\\Musicplay.vue","mtime":1662606496931},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\babel-loader\\lib\\index.js","mtime":1646330798012},{"path":"D:\\web前端\\musicweb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646330783664},{"path":"D:\\web前端\\musicweb\\node_modules\\vue-loader\\lib\\index.js","mtime":1646330795669}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\timport music from \"../util/musiclist.js\"\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsrc: '',\n\t\t\t\tcurrentTime: this.$store.state.currentTime,\n\t\t\t\tindexlist:['顺序播放','循环播放','随机播放'],\n\t\t\t\tindex:'循环播放',\n\t\t\t\tloop:true,\n\t\t\t\tmusic:music,\n\t\t\t\tmusicplayshow:false,\n\t\t\t\ti:1,\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.addEventHandle()\n\t\t\tconsole.log(this.music)\n\t\t\t\n\t\t\tthis.$store.commit(\"changemusiclist\",this.music)\n\t\t\tthis.$refs.imagemove.style.animationPlayState=\"paused\"\n\t\t},\n\t\tmethods: {\n\t\t\tdelmusclist(){\n\t\t\t\tthis.$store.commit(\"changemusiclist\",[])\n\t\t\t},\n\t\t\ttomusic(data){\n\t\t\t\t\n\t\t\t\tthis.$store.commit('musicplay')\n\t\t\t\tthis.$store.commit(\"changeMusicplay\",data);\n\t\t\t},\n\t\t\tchangemusicplayshowfalse(){\n\t\t\t\tthis.musicplayshow=false\n\t\t\t},\n\t\t\tchangemusicplayshowtrue(){\n\t\t\t\tthis.musicplayshow=true\n\t\t\t},\n\t\t\tchange(index){\n\t\t\t\tthis.i++\n\t\t\t    this.index=this.indexlist[this.i%3]\n\t\t\t\tif(this.i%3==1){\n\t\t\t\t\tthis.loop=true\n\t\t\t\t}else{\n\t\t\t\t\tthis.loop=false\n\t\t\t\t}\n\t\t\t\tif(this.i%3==0){\n\t\t\t\t\tif(this.$refs.player==true){\n\t\t\t\t\t\tfor(let j=0;j<music.length;j++){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\taddEventHandle() {\n\n\t\t\t\tthis.$refs.player.addEventListener(\"timeupdate\", (event) => {\n\t\t\t\t\tthis.$store.commit('changecurrentTime', this.$refs.player.currentTime)\n\t\t\t\t\t//console.log(this.$store.state.currentTime)\n\t\t\t\t\t//console.log(this.$refs.player.duration)\n\t\t\t\t\tthis.currentTime=this.$refs.player.currentTime\n\t\t\t\t}) \n\t\t\t},\n\t\t\thandlesrc(){\n \t\t\tif (this.$store.state.music.isplay) {\n\t\t\t\t\tthis.$store.commit('changeMusicPlayName',this.$store.state.musicplay.name)\n\t\t\t\t\treturn `/music/${this.$store.state.musicplay.singer} - \n\t\t\t${this.$store.state.musicplay.name}${this.$store.state.musicplay.type}`\n\t\t\t\t}\n\t\t\t},\n\t\t\tmove(){\n\t\t\t\t\n\t\t\t\t //console.log(this.$refs.player.paused)\n\t\t\t\t if(this.$refs.player.paused){\n\t\t\t\t\t this.$refs.imagemove.style.animationPlayState=\"paused\"\n\t\t\t\t }else{\n\t\t\t\t\t this.$refs.imagemove.style.animationPlayState=\"running\"\n\t\t\t\t }\n\n\t\t\t},\n\t\t\tgomusic(){\n\t\t\t\t\n\t\t\t\tthis.$store.commit('changeMusic',this.$store.state.musicplay)\n\t\t\t\tif(this.$store.state.activeIndex!='3'){\n\t\t\t\t\tthis.$router.push('/center')\n\t\t\t\t\tthis.$store.commit(\"changeActiveIndex\",\"3\")\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t},\n\t\tupdated() {\n           this.move()\n\t\t  // console.log(\"sada\")\n\t\t},\n        beforeDestory(){\n           // console.log(\"111111111\")\n\t\t}\n\t}\n",{"version":3,"sources":["Musicplay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Musicplay.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div class=\"musicplay\">\r\n\t\t<div class=\"box\">\r\n\t\t\t<div><div ref=\"imagemove\" class=\"back\" @click=\"gomusic\"></div></div>\r\n\t\t\t<audio :src=\"handlesrc()\" controls autoplay :loop=\"loop\" class=\"audio-fixed\" ref=\"player\">\r\n\t\t\t\t当前浏览器不支持audio\r\n\t\t\t</audio> \r\n\t\t\t<p style=\"position:absolute; bottom:100px;\" v-show=\"false\">{{currentTime}}</p>\r\n\t\t\t<!-- <div class=\"index\" @click=\"change(index)\">{{index}}</div> -->\r\n\t\t\t<!-- <div class=\"index2\" @click=\"changemusicplayshowtrue\">播放列表</div> -->\r\n\t\t</div>\r\n\t\t<div class=\"playlist\" v-if=\"musicplayshow\">\r\n\t\t    <div class=\"tabber\">\r\n\t\t\t\t<div style=\"width: 100px;text-align: center;\" >播放列表</div>\r\n\t\t\t\t<div style=\"width: 200px;height: 40px;text-align: right; cursor: pointer;\" @click=\"delmusclist\">清除</div>\r\n\t\t\t\t<div><p class=\"iconfont icon-a-22-shanchu\" style=\"cursor: pointer;\"></p></div>\r\n\t\t\t\t<div style=\"float: right;width: 30px;cursor: pointer;\" @click=\"changemusicplayshowfalse\"><p class=\"iconfont icon-a-43-guanbi\"></p></div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"musiclist\">\r\n\t\t\t\t<ul>\r\n\t\t\t\t\t<li v-for=\"data in $store.state.musiclist\" :key=\"data.id\" @click=\"tomusic(data)\">\r\n\t\t\t\t\t\t<div>{{data.name}}</div>\r\n\t\t\t\t\t\t<div>{{data.singer}}</div>\r\n\t\t\t\t\t\t<div>{{data.time}}</div>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t    </div>\r\n\t</div>\r\n\t\r\n</template>\r\n\r\n<script>\r\n\timport music from \"../util/musiclist.js\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsrc: '',\r\n\t\t\t\tcurrentTime: this.$store.state.currentTime,\r\n\t\t\t\tindexlist:['顺序播放','循环播放','随机播放'],\r\n\t\t\t\tindex:'循环播放',\r\n\t\t\t\tloop:true,\r\n\t\t\t\tmusic:music,\r\n\t\t\t\tmusicplayshow:false,\r\n\t\t\t\ti:1,\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.addEventHandle()\r\n\t\t\tconsole.log(this.music)\r\n\t\t\t\r\n\t\t\tthis.$store.commit(\"changemusiclist\",this.music)\r\n\t\t\tthis.$refs.imagemove.style.animationPlayState=\"paused\"\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tdelmusclist(){\r\n\t\t\t\tthis.$store.commit(\"changemusiclist\",[])\r\n\t\t\t},\r\n\t\t\ttomusic(data){\r\n\t\t\t\t\r\n\t\t\t\tthis.$store.commit('musicplay')\r\n\t\t\t\tthis.$store.commit(\"changeMusicplay\",data);\r\n\t\t\t},\r\n\t\t\tchangemusicplayshowfalse(){\r\n\t\t\t\tthis.musicplayshow=false\r\n\t\t\t},\r\n\t\t\tchangemusicplayshowtrue(){\r\n\t\t\t\tthis.musicplayshow=true\r\n\t\t\t},\r\n\t\t\tchange(index){\r\n\t\t\t\tthis.i++\r\n\t\t\t    this.index=this.indexlist[this.i%3]\r\n\t\t\t\tif(this.i%3==1){\r\n\t\t\t\t\tthis.loop=true\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.loop=false\r\n\t\t\t\t}\r\n\t\t\t\tif(this.i%3==0){\r\n\t\t\t\t\tif(this.$refs.player==true){\r\n\t\t\t\t\t\tfor(let j=0;j<music.length;j++){\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\taddEventHandle() {\r\n\r\n\t\t\t\tthis.$refs.player.addEventListener(\"timeupdate\", (event) => {\r\n\t\t\t\t\tthis.$store.commit('changecurrentTime', this.$refs.player.currentTime)\r\n\t\t\t\t\t//console.log(this.$store.state.currentTime)\r\n\t\t\t\t\t//console.log(this.$refs.player.duration)\r\n\t\t\t\t\tthis.currentTime=this.$refs.player.currentTime\r\n\t\t\t\t}) \r\n\t\t\t},\r\n\t\t\thandlesrc(){\r\n \t\t\tif (this.$store.state.music.isplay) {\r\n\t\t\t\t\tthis.$store.commit('changeMusicPlayName',this.$store.state.musicplay.name)\r\n\t\t\t\t\treturn `/music/${this.$store.state.musicplay.singer} - \r\n\t\t\t${this.$store.state.musicplay.name}${this.$store.state.musicplay.type}`\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmove(){\r\n\t\t\t\t\r\n\t\t\t\t //console.log(this.$refs.player.paused)\r\n\t\t\t\t if(this.$refs.player.paused){\r\n\t\t\t\t\t this.$refs.imagemove.style.animationPlayState=\"paused\"\r\n\t\t\t\t }else{\r\n\t\t\t\t\t this.$refs.imagemove.style.animationPlayState=\"running\"\r\n\t\t\t\t }\r\n\r\n\t\t\t},\r\n\t\t\tgomusic(){\r\n\t\t\t\t\r\n\t\t\t\tthis.$store.commit('changeMusic',this.$store.state.musicplay)\r\n\t\t\t\tif(this.$store.state.activeIndex!='3'){\r\n\t\t\t\t\tthis.$router.push('/center')\r\n\t\t\t\t\tthis.$store.commit(\"changeActiveIndex\",\"3\")\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tupdated() {\r\n           this.move()\r\n\t\t  // console.log(\"sada\")\r\n\t\t},\r\n        beforeDestory(){\r\n           // console.log(\"111111111\")\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.musicplay {\r\n\t\twidth: 410px;\r\n\t\theight: 54px;\r\n\t\tposition: fixed;\r\n\t\tz-index: 100;\r\n\t\tbottom: 0;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t}\r\n    .box{\r\n\t\theight: 54px;\r\n\t}\r\n\t@keyframes imagemove{\r\n\t\t0%{}\r\n\t\t100%{\r\n\t\t\ttransform:rotate(360deg);\r\n\t\t}\r\n\t}\r\n\t.back{\r\n\t    background: url(../../public/image/1.jpg) center center no-repeat;\r\n\t\tbackground-size: cover;\r\n\t\theight: 54px;\r\n\t\twidth: 54px;\r\n\t\tborder-radius: 50%;\r\n        animation: imagemove 5s linear infinite;\r\n\t}\r\n\t.audio-fixed {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 50%;\r\n\t\ttransform: translateX(-50%);\r\n\t}\r\n\t.index{\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\ttop:1px;\r\n\t\twidth: 60px;\r\n\t\theight: 24px;\r\n\t\tfont-size: 12px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 24px;\r\n\t\tbackground-color: lightgray;\r\n\t\topacity: 1;\r\n\t\tborder-radius: 20%;\r\n\t\tborder: gray 1px solid;\r\n\t}\r\n\t.index:hover{\r\n\t\topacity: 0.6;\r\n\t}\r\n\t.index2:hover{\r\n\t\topacity: 0.6;\r\n\t}\r\n\t.index2{\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\ttop:30px;\r\n\t\twidth: 60px;\r\n\t\theight: 24px;\r\n\t\tfont-size: 12px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 24px;\r\n\t\tbackground-color: lightgray;\r\n\t\topacity: 1;\r\n\t\tborder-radius: 20%;\r\n\t\tborder: gray 1px solid;\r\n\t}\r\n\t.playlist{\r\n\t\twidth: 100%;\r\n\t\theight: 400px;\r\n\t\tbackground-color: yellow;\r\n\t\tposition: absolute;\r\n\t\tbottom: 54px;\r\n\t\tborder-radius: 20px 20px 0 0;\r\n\t}\r\n\t.tabber{\r\n\t\theight: 40px;\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #121212;\r\n\t\tborder-radius: 20px 20px 0 0;\r\n\t}\r\n\t.tabber div{\r\n\t\tfloat: left;\r\n\t\theight: 40px;\r\n\t\tline-height: 40px;\r\n\t\tcolor: white;\r\n\t}\r\n\t.musiclist{\r\n\t\twidth: 100%;\r\n\t\tmax-height: calc(100% - 40px);\r\n\t\toverflow: auto;\r\n\t}\r\n\t.musiclist li{\r\n\t\theight: 30px;\r\n\t\tline-height: 30px;\r\n\t\tbackground-color: #333;\r\n\t\tcolor: white;\r\n\t\twidth: 100%;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.musiclist li:hover{\r\n\t\topacity: 0.8;\r\n\t}\r\n\t.musiclist li div{\r\n\t\tfloat: left;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\t.musiclist li div:nth-child(1){\r\n\t\twidth: 100px;\r\n\t\tmargin-left: 10px;\r\n\t\tmargin-right: 30px;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t.musiclist li div:nth-child(2){\r\n\t\twidth: 100px;\r\n\t\tmargin-left: 10px;\r\n\t\tmargin-right: 30px;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n</style>\r\n"]}]}